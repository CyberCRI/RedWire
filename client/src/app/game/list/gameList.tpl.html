<div id="gameList" class="container">
	<div class="row">
		<div class="col-md-12" id="loginContainer">
			<login-controls></login-controls>
		</div>
	</div>

	<div class="row">
		<div class="col-md-12" id="logoContainer">
		<a id="documentation-button" target="_blank" href="https://github.com/CyberCRI/RedWire/wiki/Standard-Toolbox-Reference" class="btn btn-primary btn-lg col-md-2" role="button">Documentation</a>
		<div class="col-md-8" id="logoBlock">
			<img src="/assets/images/logo_big.png" ui-sref="home"></img>
			<p>v{{RED_WIRE_VERSION}}</p>
		</div>
		<a id="tutorial-button" target="_blank" href="https://github.com/CyberCRI/RedWire/wiki/Tutorials" class="btn btn-primary btn-lg col-md-2" role="button">Tutorial</a>
	</div>

	<h2>Games</h2>

	<div ng-if="gameRecommendations">
		<game-block-panel title="'Suggestions'" games="gameRecommendations"></game-block-panel>
	</div>

	<game-block-panel title="'All Games'" games="games"></game-block-panel>

	<div ng-if="gameRecommendations">
		<h2>Suggestions</h2>

		<table class="table">
			<tr>
				<th>Name</th>
				<th>Author</th>
				<th># Versions</th>
				<th># Forks</th>
				<th># Plays</th>
				<th># Mixed From</th>
				<th># Mixed Into</th>
				<th>Last updated</th>
				<th></th>
				<th></th>
			</tr>
			<tr ng-repeat="game in gameRecommendations">
				<td>
					{{ game.name }} 
				</td>
				<td>
					{{ game.ownerName }}
				</td>
				<td>
					{{ game.versionCount }}
				</td>
				<td>
					{{ game.forkCount }}
				</td>
				<td>
					{{ game.playCount || 0 }}
				</td>
				<td>
					{{ game.mixedFromGameIds.length || 0 }}
				</td>
				<td>
					{{ game.mixedToGameIds.length || 0 }}
				</td>
				<td>
					{{ formatDate(game.lastUpdatedTime) }}
				</td>
				<td>
					<a ng-click="play(game.id)"><span class="glyphicon glyphicon-play"></span> Play</a>
				</td>
				<td>
					<a ng-click="remix(game.id)"><span class="glyphicon glyphicon-edit"></span> Edit</a>
				</td>
			</tr>
		</table>
	</div>

	<h2>Games</h2>

	<table class="table">
		<tr>
			<th>
				<span ng-click="orderedProperty = 'name'; orderedDirection = !orderedDirection">
					Name
				</span>
			</th>
			<th>
				<span ng-click="orderedProperty = 'author'; orderedDirection = !orderedDirection">
					Author
				</span>
			</th>
			<th># Versions</th>
			<th># Forks</th>
			<th># Plays</th>
			<th># Mixed From</th>
			<th># Mixed Into</th>
			<th>Last updated</th>
			<th></th>
			<th></th>
		</tr>
		<tr ng-repeat="game in games | orderBy:orderedProperty:orderedDirection">
			<td>
				{{ game.name }} 
			</td>
			<td>
				{{ game.ownerName }}
			</td>
			<td>
				{{ game.versionCount }}
			</td>
			<td>
				{{ game.forkCount }}
			</td>
			<td>
				{{ game.playCount || 0 }}
			</td>
			<td>
				{{ game.mixedFromGameIds.length || 0}}
			</td>
			<td>
				{{ game.mixedToGameIds.length || 0 }}
			</td>
			<td>
				{{ formatDate(game.lastUpdatedTime) }}
			</td>
			<td>
				<a ng-click="play(game.id)"><span class="glyphicon glyphicon-play"></span> Play</a>
			</td>
			<td>
				<a ng-click="remix(game.id)"><span class="glyphicon glyphicon-edit"></span> Edit</a>
			</td>
		</tr>
	</table>
</div>