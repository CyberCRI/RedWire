<ul frang-tree class="board">
    <li frang-tree-repeat="node in [currentGame.version.board]"
        frang-tree-drag="{node: node, parent: $parent.node}"
        frang-tree-drop="drop(dragData.node, node, dragData.parent, $parent.node)"
        frang-tree-enter="enter(node)"
        frang-tree-allow-drop="true">
        <div ng-hide="treeDrag.data.node === node && treeDrag.lastHovered != node && treeDrag.lastHovered.children[0] != node">
            <span class="arrow"
                  ng-class="{collapsed: node.collapsed, expanded: !node.collapsed, hidden: !node.children || node.children.length === 0}"
                  ng-click="node.collapsed = !node.collapsed"></span>
            <board-label node="node"></board-label>
            <a href="" class="btn btn-small" ng-click="edit(node)"><i class="icon-edit"></i></a>
            <a href="" class="btn btn-small" ng-click="node.muted = !node.muted">{{node.muted ? 'MUTED' : 'Mute'}}</a>
            <a href="" class="btn btn-small" ng-click="remove(node, $parent.node)"><i class="icon-trash"></i></a>
        </div>
        <div class="empty-slot"
             ng-class="{child: chips.acceptsChildren(node)}"
             ng-if="treeDrag.lastHovered === node && treeDrag.data.node != node && node.children[0] != treeDrag.data.node">
            <board-label node="treeDrag.data.node"></board-label>
        </div>
        <ul ng-if="!node.collapsed && node.children && node.children.length > 0"
            frang-tree-insert-children="node.children">
        </ul>
    </li>
</ul>